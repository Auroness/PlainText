{
  "name": "cat",
  "description": "The cat has a nice brown-greyish fur with black stripes over its back and head.",
  "triggers": { "onattack": "(function(attacker) {\n    if (this.enemies.indexOf(attacker) === -1) {\n        this.enemies.push(attacker);\n    }\n\n    var currentAreaId = this.currentArea.id;\n    function go() {\n        this.go(this.currentArea.exits.filter(function(exit) {\n            return !exit.hidden && !exit.door && exit.name !== 'gate' && exit.destinationArea.id != currentAreaId;\n        }).randomElement());\n    }\n\n    this.setTimeout(function() {\n        go.call(this);\n        this.setTimeout(go, 600);\n    }, 200);\n})", "oncharacterentered": "(function(activator) { var index = this.enemies.indexOf(activator); if (index > -1) { this.setTimeout(function() { if (activator.currentArea.id !== this.currentArea.id) { return; } activator.send('The cat hisses to you.'); this.currentArea.players.forEach(function(player) { if (player.id !== activator.id) { player.send('The cat hisses at ' + activator.definiteName() + '.'); } }); this.enemies.splice(index, 1); }, 600); } })", "oninit": "(function() { this.invokeTrigger('onspawn'); })", "onspawn": "(function() { this.enemies = []; this.setInterval(function() { if (randomInt(0, 2) == 0) { var exits = this.currentArea.exits.filter(function(exit) { return !exit.hidden && (!exit.door || exit.open) && exit.name !== 'gate' }); if (exits.length > 0) { this.go(exits.randomElement()); } } }, 40000); })" },
  "plural": "cats",
  "indefiniteArticle": "a",
  "portable": false,
  "weight": 8,
  "cost": 0,
  "currentArea": "area:113",
  "race": "0",
  "characterClass": "class:147",
  "gender": "male",
  "stats": [3, 60, 4, 2, 0, 0, 30, 8],
  "respawnTime": 120000,
  "respawnTimeVariation": 180000,
  "hp": 8,
  "maxHp": 8,
  "mp": 0,
  "maxMp": 0,
  "gold": 0
}

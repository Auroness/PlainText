{
  "name": "city guard",
  "description": "",
  "triggers": { "onactive": "(function() {\n    var enemy = this.enemies.findFirstAmong(this.currentArea.characters);\n    if (enemy) {\n        this.kill(enemy);\n    }\n})", "onattack": "(function(attacker) {\n    if (this.enemies.indexOf(attacker) === -1) {\n        this.enemies.push(attacker);\n    }\n    this.setTimeout(function() {\n        this.invokeTrigger('onactive');\n    }, 200);\n})", "oncharacterattacked": "(function(attacker, defendant) {\n    if (attacker.name === \"city guard\" || this.enemies.contains(defendant)) {\n        return;\n    }\n\n    this.enemies.pushIfNecessary(attacker);\n\n    this.setTimeout(function() {\n        this.invokeTrigger(\"onactive\");\n    }, 600);\n})", "oncharacterdied": "(function(defendant, attacker) {\n    var index = this.enemies.indexOf(defendant);\n    if (index > -1) {\n        this.enemies.splice(index, 1);\n    }\n})", "oncharacterentered": "(function(attacker) {\n    this.setTimeout(function() {\n        this.invokeTrigger('onactive');\n    }, 200);\n})", "oncharacterexit": "(function(activator, exitName) {\n    if (this.enemies.contains(activator)) {\n        activator.send(\"The city guard blocks your exit.\");\n        return false;\n    }\n})", "onshout": "(function(activator, message) {\n    message = message.toLowerCase();\n    if (message.contains('help!') || message.contains('guard!') || message.contains('guards!')) {\n        var self = this;\n        this.currentArea.exits.forEach(function(exit) {\n            if (Util.isDirection(exit.name) && exit.destinationArea.id === activator.currentArea.id) {\n                self.setTimeout(function() {\n                    self.go(exit);\n                }, 185);\n            }\n        });\n    }\n})", "onspawn": "(function() {\n    this.enemies = [];\n\n    var previousAreaId = 0;\n    this.setInterval(function() {\n        var exits = this.currentArea.exits.filter(function(exit) {\n            return Util.isDirection(exit.name);\n        });\n        if (exits.length > 1) {\n            exits = exits.filter(function(exit) { return exit.destinationArea.id !== previousAreaId; });\n        }\n        previousAreaId = this.currentArea.id;\n        this.go(exits.randomElement());\n    }, 22111);\n})", "ontalk": "(function(character) { character.send('The guard looks at you and shrugs.'); })" },
  "plural": "city guards",
  "indefiniteArticle": "a",
  "portable": false,
  "weight": 90,
  "cost": 0,
  "stats": [30, 30, 30, 30, 20, 20],
  "height": 180,
  "currentArea": "area:65",
  "race": "race:2",
  "characterClass": "class:148",
  "gender": "male",
  "respawnTime": 1800000,
  "respawnTimeVariation": 1800000,
  "hp": 60,
  "maxHp": 60,
  "mp": 0,
  "maxMp": 20,
  "gold": 0,
  "weapon": "weapon:281",
  "secondaryWeapon": "0",
  "shield": "0"
}
{
  "name": "beggar",
  "triggers": { "onactive": "(function() {\n    var area = this.currentArea;\n    var enemy = this.enemies.findFirstAmong(area.characters);\n    if (enemy && !area.npcs.named('city guard')) {\n        this.kill(enemy);\n    }\n})", "onattack": "(function(attacker) {\n    if (!this.enemies.contains(attacker)) {\n        this.enemies.push(attacker);\n    }\n    this.setTimeout(function() {\n        this.invokeTrigger('onactive');\n    }, 200);\n})", "oncharacterdied": "(function(defendant, attacker) {\n    this.setTimeout(function() {\n        if (!this.currentArea.items.isEmpty()) {\n            this.take(this.currentArea.items);\n        }\n    }, 300);\n})", "oncharacterentered": "(function(activator) {\n    if (activator.name === 'city guard' || activator.race.name === 'animal' || this.dontBeg) {\n        return;\n    }\n\n    this.dontBeg = true;\n\n    this.setTimeout(function() {\n        if (activator.currentArea !== this.currentArea) {\n            return;\n        }\n\n        if (this.enemies.contains(activator)) {\n            this.kill(activator);\n            return;\n        }\n\n        switch (randomInt(0, 3)) {\n            case 0:\n                this.say('Can you share me a dollar, ' + (activator.gender == 'male' ? 'sir' : 'ma\\'am') + '?');\n                break;\n            case 1:\n                this.say('You got something to spare?');\n                break;\n            case 2:\n                this.say('Please, ' + (activator.gender == 'male' ? 'sir' : 'ma\\'am') + ', show me some generosity.');\n                break;\n        }\n    }, 500);\n\n    this.setTimeout(function() {\n        delete this.dontBeg;\n    }, 3500);\n})", "onspawn": "(function() {\n    this.enemies = [];\n})" },
  "plural": "beggars",
  "indefiniteArticle": "a",
  "portable": false,
  "weight": 0,
  "cost": 0,
  "stats": [12, 11, 11, 11, 11, 11],
  "height": 0,
  "currentArea": "area:65",
  "race": "0",
  "characterClass": "class:147",
  "gender": "male",
  "respawnTime": 1200000,
  "respawnTimeVariation": 600000,
  "hp": 22,
  "maxHp": 22,
  "mp": 11,
  "maxMp": 11,
  "gold": 8,
  "weapon": "0",
  "secondaryWeapon": "0",
  "shield": "0"
}
